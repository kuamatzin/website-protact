<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Encuentro Gasolinero Puebla 2025 - Registro</title>
  <meta content="Registro para el Encuentro Gasolinero Protact" name="description">
  <meta content="protact, gasolinero, encuentro, evento, registro" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/favicon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-94XTWHL6DT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-94XTWHL6DT");
  </script>

  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-TNKZBSQ9");
  </script>
  <!-- End Google Tag Manager -->

  <style>
    .event-hero {
      background: linear-gradient(90deg, #c9232c, #fb0825);
      padding: 120px 0 80px 0;
      color: white;
      text-align: center;
    }
    .event-hero h1 {
      font-size: 48px;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 20px;
      color: white;
    }
    .event-hero p {
      font-size: 22px;
      margin-bottom: 0;
      color: rgba(255, 255, 255, 0.9);
    }
    .form-section {
      padding: 80px 0;
      background: #f3f5fa;
    }
    .form-container {
      background: white;
      padding: 50px;
      border-radius: 10px;
      box-shadow: 0 0 24px 0 rgba(0, 0, 0, 0.1);
    }
    @media (max-width: 768px) {
      .form-container {
        padding: 30px 20px;
      }
      .gas-icon {
        width: 60px;
        right: -10px;
      }
    }
    .form-title {
      text-align: center;
      margin-bottom: 40px;
    }
    .form-title h2 {
      font-size: 36px;
      font-weight: 700;
      color: #c9232c;
      margin-bottom: 10px;
    }
    .form-title p {
      color: #848484;
      font-size: 18px;
    }
    .event-form .form-group {
      margin-bottom: 25px;
    }
    .event-form label {
      color: #5e5e5e;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 16px;
    }
    .event-form input {
      border-radius: 4px;
      padding: 12px 15px;
      font-size: 14px;
      border: 1px solid #e4e4e4;
      transition: all 0.3s;
    }
    .event-form input:focus {
      border-color: #fb0825;
      box-shadow: 0 0 0 0.2rem rgba(251, 8, 37, 0.1);
    }
    .submit-btn {
      background: linear-gradient(90deg, #c9232c, #fb0825);
      border: 0;
      padding: 12px 40px;
      color: #fff;
      transition: 0.4s;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      margin-top: 20px;
    }
    .submit-btn:hover {
      background: linear-gradient(90deg, #fb0825, #c9232c);
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(251, 8, 37, 0.3);
    }
    .required-field {
      color: #fb0825;
    }
    .event-info {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 24px 0 rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }
    .event-info h3 {
      color: #c9232c;
      font-size: 24px;
      margin-bottom: 20px;
      font-weight: 700;
    }
    .event-info-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    .event-info-item i {
      font-size: 20px;
      color: #fb0825;
      margin-right: 15px;
      width: 30px;
    }
    .event-info-item p {
      margin: 0;
      color: #5e5e5e;
      font-size: 16px;
    }
    .gas-icon {
      width: 100px;
      opacity: 0.1;
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
    }

    /* Agenda Section Styles */
    .agenda-section {
      padding: 80px 0;
      background: white;
    }
    .section-title {
      text-align: center;
      margin-bottom: 50px;
    }
    .section-title h2 {
      font-size: 48px;
      font-weight: 700;
      color: #2c2c2c;
      margin-bottom: 10px;
      letter-spacing: 2px;
    }
    .section-title p {
      font-size: 18px;
      color: #5e5e5e;
      font-weight: 500;
    }
    .agenda-container {
      position: relative;
      padding: 0 20px;
    }
    .agenda-container::before {
      content: '';
      position: absolute;
      left: 50px;
      top: 20px;
      bottom: 20px;
      width: 2px;
      background: #e4e4e4;
    }
    .agenda-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 35px;
      position: relative;
      padding-left: 100px;
      min-height: 60px;
    }
    .agenda-item::before {
      content: '';
      position: absolute;
      left: 44px;
      top: 8px;
      width: 14px;
      height: 14px;
      background: white;
      border: 3px solid #c9232c;
      border-radius: 50%;
      z-index: 2;
    }
    .time-badge {
      position: absolute;
      left: 0;
      top: 0;
      background: linear-gradient(90deg, #c9232c, #fb0825);
      color: white;
      padding: 8px 16px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      box-shadow: 0 3px 10px rgba(201, 35, 44, 0.2);
      min-width: 100px;
      text-align: center;
    }
    .agenda-content {
      background: #f8f9fa;
      padding: 20px 25px;
      border-radius: 10px;
      flex: 1;
      margin-left: 30px;
      transition: all 0.3s ease;
      border-left: 3px solid #c9232c;
    }
    .agenda-content:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    }
    .agenda-content h4 {
      color: #2c2c2c;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.4;
    }
    .agenda-content p {
      color: #666;
      font-size: 15px;
      margin: 0;
      line-height: 1.5;
    }

    @media (max-width: 768px) {
      .section-title h2 {
        font-size: 36px;
      }
      .agenda-container::before {
        left: 20px;
      }
      .agenda-item {
        padding-left: 50px;
        margin-bottom: 25px;
      }
      .agenda-item::before {
        left: 14px;
      }
      .time-badge {
        position: relative;
        left: auto;
        top: auto;
        margin-bottom: 10px;
        display: inline-block;
      }
      .agenda-content {
        margin-left: 0;
        margin-top: 10px;
      }
      .agenda-item {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      .agenda-section {
        padding: 60px 0;
      }
      .section-title h2 {
        font-size: 28px;
      }
      .agenda-content {
        padding: 15px 20px;
      }
      .agenda-content h4 {
        font-size: 16px;
      }
      .agenda-content p {
        font-size: 14px;
      }
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TNKZBSQ9" height="0" width="0" style="display: none; visibility: hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top header-inner-pages">
    <div class="container d-flex align-items-center">
      <a href="/" class="logo me-auto"><img src="assets/img/white_logo.png" alt="" class="img-fluid"></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link" href="/">Inicio</a></li>
          <li><a class="nav-link" href="#agenda">Agenda</a></li>
          <li><a class="nav-link" href="/#about">Nosotros</a></li>
          <li><a class="nav-link" href="/#services">Servicios</a></li>
          <li><a class="nav-link" href="/#team">Equipo</a></li>
          <li><a class="nav-link" href="/#contact">Contacto</a></li>
          <li><a class="getstarted" href="#registro">Registrarse</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Event Hero Section ======= -->
    <section class="event-hero">
      <div class="container">
        <h2 data-aos="fade-up">Encuentro Gasolinero Puebla 2025</h2>
        <p data-aos="fade-up" data-aos-delay="100">Únete al evento más importante del sector gasolinero</p>
      </div>
    </section><!-- End Event Hero -->

    <!-- ======= Event Agenda Section ======= -->
    <section id="agenda" class="agenda-section">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>AGENDA</h2>
          <p>ENCUENTRO GASOLINERO PUEBLA 2025</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-lg-10">
            <div class="agenda-container">
              <div class="agenda-item" data-aos="fade-up" data-aos-delay="100">
                <div class="time-badge">9:00-9:20</div>
                <div class="agenda-content">
                  <h4>Registro</h4>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="150">
                <div class="time-badge">9:20-9:30</div>
                <div class="agenda-content">
                  <h4>Mensaje de bienvenida</h4>
                  <p>Ing. Carlos Cuamatzin<br>CEO de Grupo Protact</p>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="200">
                <div class="time-badge">9:30-10:00</div>
                <div class="agenda-content">
                  <h4>Desayuno</h4>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="250">
                <div class="time-badge">10:00-10:40</div>
                <div class="agenda-content">
                  <h4>Impacto Ambiental: Riesgos, Responsabilidades y Obligaciones</h4>
                  <p>Ing. Omar Acoltzí</p>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="300">
                <div class="time-badge">10:40-11:20</div>
                <div class="agenda-content">
                  <h4>La Situación Actual del Mercado de Combustibles</h4>
                  <p>Mtro. Alejandro Montufar</p>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="350">
                <div class="time-badge">11:20-11:30</div>
                <div class="agenda-content">
                  <h4>Proveedores</h4>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="400">
                <div class="time-badge">11:30-12:00</div>
                <div class="agenda-content">
                  <h4>Anexo 30 y 31 para Estaciones de Servicio</h4>
                  <p>Ing. Edgar Santillán</p>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="450">
                <div class="time-badge">12:00-12:40</div>
                <div class="agenda-content">
                  <h4>CNE: La Nueva Comisión Nacional de Energía</h4>
                  <p>Ing. Enrique Loyo</p>
                </div>
              </div>

              <div class="agenda-item" data-aos="fade-up" data-aos-delay="500">
                <div class="time-badge">12:40-13:00</div>
                <div class="agenda-content">
                  <h4>Agradecimiento y cierre</h4>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Event Agenda Section -->

    <!-- ======= Registration Form Section ======= -->
    <section id="registro" class="form-section">
      <div class="container" data-aos="fade-up">
        <div class="row">
          <div class="col-lg-8">
            <div class="form-container position-relative">
              <div class="form-title">
                <h2>Registro al Evento</h2>
                <p>Complete el formulario para reservar su lugar</p>
              </div>

              <form class="event-form" id="eventRegistrationForm">
                <div class="row">
                  <div class="col-md-12 form-group">
                    <label for="nombre">Nombre Completo (Contacto Principal) <span class="required-field">*</span></label>
                    <input type="text" name="nombre" class="form-control" id="nombre" placeholder="Ingrese su nombre completo" required>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 form-group">
                    <label for="empresa">Empresa o Razón Social <span class="required-field">*</span></label>
                    <input type="text" name="empresa" class="form-control" id="empresa" placeholder="Nombre de su empresa" required>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 form-group">
                    <label for="telefono">Número Telefónico <span class="required-field">*</span></label>
                    <input type="tel" name="telefono" class="form-control" id="telefono" placeholder="10 dígitos" pattern="[0-9]{10}" required>
                  </div>
                  <div class="col-md-6 form-group">
                    <label for="correo">Correo Electrónico <span class="required-field">*</span></label>
                    <input type="email" name="correo" class="form-control" id="correo" placeholder="ejemplo@correo.com" required>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 form-group">
                    <label for="num_seats">Número de Asientos <span class="required-field">*</span></label>
                    <select name="num_seats" class="form-control" id="num_seats" required>
                      <option value="">Seleccione cantidad de asientos</option>
                      <option value="1">1 asiento - $1,800 + IVA ($2,088 MXN)</option>
                      <option value="2">2 asientos - $3,600 + IVA ($4,176 MXN)</option>
                      <option value="3">3 asientos - $5,400 + IVA ($6,264 MXN)</option>
                      <option value="4">4 asientos - $7,200 + IVA ($8,352 MXN)</option>
                      <option value="5">5 asientos - $9,000 + IVA ($10,440 MXN)</option>
                      <option value="6">6 asientos - $10,800 + IVA ($12,528 MXN)</option>
                      <option value="7">7 asientos - $12,600 + IVA ($14,616 MXN)</option>
                      <option value="8">8 asientos - $14,400 + IVA ($16,704 MXN)</option>
                      <option value="9">9 asientos - $16,200 + IVA ($18,792 MXN)</option>
                      <option value="10">10 asientos - $18,000 + IVA ($20,880 MXN)</option>
                    </select>
                  </div>
                </div>

                <div id="attendee-fields" style="display: none;">
                  <div class="form-group">
                    <label style="color: #c9232c; font-weight: 600; margin-bottom: 15px; display: block;">
                      <i class="bi bi-people-fill"></i> Nombres de los Asistentes
                    </label>
                    <div id="attendee-names-container">
                      <!-- Dynamic fields will be added here -->
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 form-group">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" id="requires_invoice" name="requires_invoice">
                      <label class="form-check-label" for="requires_invoice" style="margin-left: 10px;">
                        Requiero factura
                      </label>
                    </div>
                  </div>
                </div>

                <div id="invoice-fields" style="display: none;">
                  <div class="row">
                    <div class="col-md-12 form-group">
                      <label for="invoice_file">Constancia de Situación Fiscal (PDF) <span class="required-field">*</span></label>
                      <input type="file" name="invoice_file" class="form-control" id="invoice_file" accept=".pdf">
                      <small class="text-muted">Por favor suba su constancia de situación fiscal en formato PDF</small>
                    </div>
                  </div>
                </div>

                <div class="row" style="display: none;" id="total-section">
                  <div class="col-md-12">
                    <div style="background: #f0f0f0; padding: 20px; border-radius: 8px; margin: 20px 0;">
                      <h4 style="color: #c9232c; margin: 0;">Total a Pagar: <span id="total-amount">$0 MXN</span></h4>
                    </div>
                  </div>
                </div>

                <input type="hidden" name="evento" value="Encuentro Gasolinero Puebla 2025">
                <input type="hidden" name="fecha_registro" id="fecha_registro">

                <div class="text-center">
                  <button type="submit" class="submit-btn" id="submit-button">Proceder al Pago</button>
                </div>

                <div class="my-3">
                  <div class="loading" id="loading-message" style="display: none;">
                    <div class="spinner-border text-danger" role="status" style="width: 20px; height: 20px; margin-right: 10px;">
                      <span class="sr-only"></span>
                    </div>
                    Procesando su registro...
                  </div>
                  <div class="error-message" id="error-message" style="display: none; color: #dc3545;"></div>
                  <div class="sent-message" id="success-message" style="display: none; color: #28a745;">Redirigiendo al sistema de pago...</div>
                </div>
              </form>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="event-info">
              <h3>Información del Evento</h3>
              <div class="event-info-item">
                <i class="bi bi-calendar-event"></i>
                <p><strong>Fecha:</strong> 18 de Septiembre de 2025</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-clock"></i>
                <p><strong>Horario:</strong> 9:00 AM - 2:00 PM</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-geo-alt"></i>
                <p><strong>Lugar:</strong> Santoua Puebla Centro</p>
                <p><strong>Dirección:</strong> C. 2 Sur 1103, Centro, 72000 Heroica Puebla de Zaragoza, Pue.</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-people"></i>
                <p><strong>Dirigido a:</strong> Empresarios y profesionales del sector gasolinero</p>
              </div>
            </div>

            <div class="event-info">
              <h3>¿Por qué asistir?</h3>
              <div class="event-info-item">
                <i class="bi bi-check-circle"></i>
                <p>Networking con líderes del sector</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-check-circle"></i>
                <p>Conferencias especializadas</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-check-circle"></i>
                <p>Últimas tendencias y tecnologías</p>
              </div>
              <div class="event-info-item">
                <i class="bi bi-check-circle"></i>
                <p>Oportunidades de negocio</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Registration Form Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>Protact</h3>
            <p>
              Sta Cruz Buenavista <br>
              72150 Puebla, Pue.<br>
              México <br><br>
              <strong>Teléfono:</strong> 2221642784<br>
              <strong>Email:</strong> contacto@protact.mx<br>
            </p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Enlaces Útiles</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="/">Inicio</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="/#about">Nosotros</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="/#services">Servicios</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="/coa.html">COA</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="/anexo-30-31.html">Anexo 30/31</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Nuestros Servicios</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Consultoría</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Capacitación</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Auditorías</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Certificaciones</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Gestión de Riesgos</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Nuestras Redes Sociales</h4>
            <p>Síguenos para mantenerte informado sobre nuestros eventos y servicios</p>
            <div class="social-links mt-3">
              <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
              <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
              <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="container footer-bottom clearfix">
      <div class="copyright">
        &copy; Copyright <strong><span>Protact</span></strong>. Todos los derechos reservados
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <!-- Custom Form Validation -->
  <script>
    // API endpoint (update with your Laravel backend URL)
    const API_URL = 'https://myapp.protact.mx/api'; // Update this to your production URL

    // Set current date
    document.getElementById('fecha_registro').value = new Date().toISOString();

    // Price per seat (including IVA)
    const PRICE_PER_SEAT = 2088; // $1,800 + 16% IVA = $2,088

    // Handle seat selection change
    document.getElementById('num_seats').addEventListener('change', function() {
      const numSeats = parseInt(this.value) || 0;
      const attendeeFields = document.getElementById('attendee-fields');
      const totalSection = document.getElementById('total-section');
      const container = document.getElementById('attendee-names-container');
      const totalAmount = document.getElementById('total-amount');

      if (numSeats > 0) {
        attendeeFields.style.display = 'block';
        totalSection.style.display = 'block';

        // Update total amount
        const total = numSeats * PRICE_PER_SEAT;
        totalAmount.textContent = '$' + total.toLocaleString('es-MX') + ' MXN';

        // Clear existing fields
        container.innerHTML = '';

        // Add fields for each attendee
        for (let i = 1; i <= numSeats; i++) {
          const fieldGroup = document.createElement('div');
          fieldGroup.className = 'attendee-group mb-4 p-3 border rounded';
          
          if (i === 1) {
            // First attendee (main contact) - readonly fields auto-filled
            fieldGroup.innerHTML = `
              <h6 class="mb-3">Asistente ${i} (Contacto Principal - Se llenará automáticamente)</h6>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_name_${i}">Nombre <span class="required-field">*</span></label>
                    <input
                      type="text"
                      name="attendee_names[]"
                      class="form-control attendee-name"
                      id="attendee_name_${i}"
                      placeholder="Nombre completo"
                      readonly
                    >
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_email_${i}">Correo <span class="required-field">*</span></label>
                    <input
                      type="email"
                      name="attendee_emails[]"
                      class="form-control attendee-email"
                      id="attendee_email_${i}"
                      placeholder="correo@ejemplo.com"
                      readonly
                    >
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_phone_${i}">Teléfono <span class="required-field">*</span></label>
                    <input
                      type="tel"
                      name="attendee_phones[]"
                      class="form-control attendee-phone"
                      id="attendee_phone_${i}"
                      placeholder="10 dígitos"
                      readonly
                    >
                  </div>
                </div>
              </div>
            `;
          } else {
            // Additional attendees - required fields
            fieldGroup.innerHTML = `
              <h6 class="mb-3">Asistente ${i}</h6>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_name_${i}">Nombre <span class="required-field">*</span></label>
                    <input
                      type="text"
                      name="attendee_names[]"
                      class="form-control attendee-name"
                      id="attendee_name_${i}"
                      placeholder="Nombre completo"
                      required
                    >
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_email_${i}">Correo <span class="required-field">*</span></label>
                    <input
                      type="email"
                      name="attendee_emails[]"
                      class="form-control attendee-email"
                      id="attendee_email_${i}"
                      placeholder="correo@ejemplo.com"
                      required
                    >
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="attendee_phone_${i}">Teléfono <span class="required-field">*</span></label>
                    <input
                      type="tel"
                      name="attendee_phones[]"
                      class="form-control attendee-phone"
                      id="attendee_phone_${i}"
                      placeholder="10 dígitos"
                      pattern="[0-9]{10}"
                      required
                    >
                  </div>
                </div>
              </div>
            `;
          }
          
          container.appendChild(fieldGroup);
        }

        // Auto-fill first attendee with main contact info
        const mainName = document.getElementById('nombre').value;
        const mainEmail = document.getElementById('correo').value;
        const mainPhone = document.getElementById('telefono').value;
        
        if (mainName) {
          document.getElementById('attendee_name_1').value = mainName;
        }
        if (mainEmail) {
          document.getElementById('attendee_email_1').value = mainEmail;
        }
        if (mainPhone) {
          document.getElementById('attendee_phone_1').value = mainPhone;
        }
      } else {
        attendeeFields.style.display = 'none';
        totalSection.style.display = 'none';
        container.innerHTML = '';
      }
    });

    // Auto-update first attendee when main contact info changes
    document.getElementById('nombre').addEventListener('input', function() {
      const firstAttendee = document.getElementById('attendee_name_1');
      if (firstAttendee) {
        firstAttendee.value = this.value;
      }
    });
    
    document.getElementById('correo').addEventListener('input', function() {
      const firstAttendeeEmail = document.getElementById('attendee_email_1');
      if (firstAttendeeEmail) {
        firstAttendeeEmail.value = this.value;
      }
    });
    
    document.getElementById('telefono').addEventListener('input', function() {
      const firstAttendeePhone = document.getElementById('attendee_phone_1');
      if (firstAttendeePhone) {
        firstAttendeePhone.value = this.value;
      }
    });

    // Handle invoice checkbox
    document.getElementById('requires_invoice').addEventListener('change', function() {
      const invoiceFields = document.getElementById('invoice-fields');
      const invoiceFileInput = document.getElementById('invoice_file');

      if (this.checked) {
        invoiceFields.style.display = 'block';
        invoiceFileInput.required = true;
      } else {
        invoiceFields.style.display = 'none';
        invoiceFileInput.required = false;
        invoiceFileInput.value = ''; // Clear file input
      }
    });

    // Form submission
    document.getElementById('eventRegistrationForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const loadingMsg = document.getElementById('loading-message');
      const errorMsg = document.getElementById('error-message');
      const successMsg = document.getElementById('success-message');
      const submitBtn = document.getElementById('submit-button');

      // Hide all messages
      loadingMsg.style.display = 'none';
      errorMsg.style.display = 'none';
      successMsg.style.display = 'none';

      // Validate phone number
      const telefono = document.getElementById('telefono').value;
      if (!/^\d{10}$/.test(telefono)) {
        errorMsg.textContent = 'Por favor ingrese un número telefónico válido de 10 dígitos';
        errorMsg.style.display = 'block';
        return;
      }

      // Collect attendee information
      const attendeeNames = [];
      const attendeeEmails = [];
      const attendeePhones = [];
      
      document.querySelectorAll('.attendee-name').forEach(input => {
        attendeeNames.push(input.value.trim());
      });
      
      document.querySelectorAll('.attendee-email').forEach(input => {
        attendeeEmails.push(input.value.trim());
      });
      
      document.querySelectorAll('.attendee-phone').forEach(input => {
        attendeePhones.push(input.value.trim());
      });

      // Validate all attendee fields are filled
      const emptyNames = attendeeNames.filter(name => !name);
      const emptyEmails = attendeeEmails.filter(email => !email);
      const emptyPhones = attendeePhones.filter(phone => !phone);
      
      if (emptyNames.length > 0) {
        errorMsg.textContent = 'Por favor proporcione los nombres de todos los asistentes';
        errorMsg.style.display = 'block';
        return;
      }
      
      if (emptyEmails.length > 0) {
        errorMsg.textContent = 'Por favor proporcione el correo de todos los asistentes';
        errorMsg.style.display = 'block';
        return;
      }
      
      if (emptyPhones.length > 0) {
        errorMsg.textContent = 'Por favor proporcione el teléfono de todos los asistentes';
        errorMsg.style.display = 'block';
        return;
      }

      // Prepare form data
      const formData = new FormData();
      formData.append('nombre', document.getElementById('nombre').value.trim());
      formData.append('empresa', document.getElementById('empresa').value.trim());
      formData.append('telefono', telefono);
      formData.append('correo', document.getElementById('correo').value.trim());
      formData.append('num_seats', parseInt(document.getElementById('num_seats').value));
      formData.append('evento', document.querySelector('input[name="evento"]').value);
      formData.append('fecha_registro', document.getElementById('fecha_registro').value);

      // Add attendee information
      attendeeNames.forEach((name, index) => {
        formData.append(`attendee_names[${index}]`, name);
      });
      
      attendeeEmails.forEach((email, index) => {
        formData.append(`attendee_emails[${index}]`, email);
      });
      
      attendeePhones.forEach((phone, index) => {
        formData.append(`attendee_phones[${index}]`, phone);
      });

      // Add invoice data if required
      const requiresInvoice = document.getElementById('requires_invoice').checked;
      formData.append('requires_invoice', requiresInvoice ? '1' : '0');

      if (requiresInvoice) {
        const invoiceFile = document.getElementById('invoice_file').files[0];
        if (invoiceFile) {
          formData.append('invoice_file', invoiceFile);
        }
      }

      // Show loading
      loadingMsg.style.display = 'flex';
      submitBtn.disabled = true;

      try {
        // Send to API
        const response = await fetch(`${API_URL}/events/register`, {
          method: 'POST',
          headers: {
            'Accept': 'application/json'
            // Don't set Content-Type - browser will set it with boundary for FormData
          },
          body: formData
        });

        const data = await response.json();

        if (response.ok && data.success) {
          // Show success message
          successMsg.style.display = 'block';
          loadingMsg.style.display = 'none';

          // Store registration code for reference
          if (data.data && data.data.registration_code) {
            sessionStorage.setItem('registration_code', data.data.registration_code);
          }

          // Redirect to Clip checkout
          if (data.data && data.data.checkout_url) {
            setTimeout(() => {
              window.location.href = data.data.checkout_url;
            }, 1500);
          } else {
            errorMsg.textContent = 'No se pudo obtener la URL de pago. Por favor contacte soporte.';
            errorMsg.style.display = 'block';
            loadingMsg.style.display = 'none';
            submitBtn.disabled = false;
          }
        } else {
          // Show error
          loadingMsg.style.display = 'none';

          if (data.errors) {
            // Validation errors
            const errorMessages = [];
            for (const field in data.errors) {
              errorMessages.push(data.errors[field].join(', '));
            }
            errorMsg.textContent = errorMessages.join('. ');
          } else {
            errorMsg.textContent = data.message || 'Ocurrió un error al procesar su registro';
          }

          errorMsg.style.display = 'block';
          submitBtn.disabled = false;
        }
      } catch (error) {
        console.error('Error:', error);
        loadingMsg.style.display = 'none';
        errorMsg.textContent = 'Error de conexión. Por favor verifique su conexión a internet e intente nuevamente.';
        errorMsg.style.display = 'block';
        submitBtn.disabled = false;
      }
    });
  </script>

</body>
</html>